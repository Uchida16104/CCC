// licensed with CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/
// hydra URL : https://hydra.ojack.xyz/?code=JTJGJTJGJTIwbGljZW5zZWQlMjB3aXRoJTIwQ0MlMjBCWS1OQy1TQSUyMDQuMCUyMGh0dHBzJTNBJTJGJTJGY3JlYXRpdmVjb21tb25zLm9yZyUyRmxpY2Vuc2VzJTJGYnktbmMtc2ElMkY0LjAlMkYlMEFhd2FpdCUyMGxvYWRTY3JpcHQoJTIyaHR0cHMlM0ElMkYlMkZub2RlZ2wuZ2xpdGNoLm1lJTJGZnVuY3Rpb24tbGlzdC5qcyUyMiklM0IlMEFhd2FpdCUyMGxvYWRTY3JpcHQoJTIyaHR0cHMlM0ElMkYlMkZjZG4uc3RhdGljYWxseS5pbyUyRmdsJTJGbWV0YWdyb3dpbmclMkZleHRyYS1zaGFkZXJzLWZvci1oeWRyYSUyRm1haW4lMkZsaWIlMkZsaWItY29uZC5qcyUyMiklM0IlMEFhd2FpdCUyMGltcG9ydCglMjJodHRwcyUzQSUyRiUyRmVtcHR5ZmxhLnNoJTJGYmw0c3QlMkZidW5kbGUtZ2xvYmFsLmpzJTIyKSUzQiUwQWNvbnN0JTIwJTdCJTBBJTA5c2N1bHB0VG9IeWRyYVJlbmRlcmVyJTBBJTdEJTIwJTNEJTIwYXdhaXQlMjBpbXBvcnQoJTIyaHR0cHMlM0ElMkYlMkZsaXZlY29kZS5lbXB0eWZsYS5zaCUyRmh5ZHJhJTJGYWxsLmpzJTIyKSUzQiUwQXNldFJlc29sdXRpb24oMzg0MCUyQyUyMDIxNjApJTNCJTBBZnBzJTIwJTNEJTIwMjQlM0IlMEFzcGVlZCUyMCUzRCUyMDElMjAlMkYlMjAxMCUzQiUwQWZsYW1lRW5naW5lLnNldENvbmZpZyglMEElMDlmbGFtZSgpJTBBJTA5LmNvbG9yZnVsKDMlMjAlMkYlMjAxMCklMEElMDkuZXhwb3N1cmUoMiklMEElMDkuYWRkVHJhbnNmb3JtKCUwQSUwOSUwOXRyYW5zZm9ybSgpJTBBJTA5JTA5LnNwaGVyaWNhbCgpJTBBJTA5JTA5LngoJTVCMSUyQyUyMDAlNUQpJTBBJTA5JTA5LnBvbGFyKCklMEElMDklMDkueSglNUIwJTJDJTIwMSU1RCklMEElMDklMDkuZmlzaGV5ZSgpJTBBJTA5JTA5Lm8oJTVCMSUyMCUyRiUyMDEwJTJDJTIwMSUyMCUyRiUyMDEwJTVEKSUwQSUwOSklMEElMDkuYWRkVHJhbnNmb3JtKCUwQSUwOSUwOXRyYW5zZm9ybSgpJTBBJTA5JTA5LmxpbmVhcigpJTBBJTA5JTA5LnBvbGFyKCklMEElMDklMDkuaHlwZXJib2xpYygpJTBBJTA5JTA5LngoKCU3QiUwQSUwOSUwOSUwOXRpbWUlMEElMDklMDklN0QpJTIwJTNEJTNFJTIwJTVCMCUyQyUyME1hdGguc2luKHRpbWUpJTVEKSUwQSUwOSUwOS55KCglN0IlMEElMDklMDklMDl0aW1lJTBBJTA5JTA5JTdEKSUyMCUzRCUzRSUyMCU1Qk1hdGguY29zKHRpbWUpJTJDJTIwMCU1RCklMEElMDklMDkubyglNUIwJTJDJTIwMCU1RCklMEElMDkpJTBBKSUzQiUwQWZsYW1lRW5naW5lLnN0YXJ0KCklM0IlMEFzMC5pbml0KCU3QiUwQSUwOXNyYyUzQSUyMGZsYW1lRW5naW5lLmNhbnZhcyUwQSU3RCklM0IlMEFzcmMoczApJTBBJTA5Lmh1ZSglMjJzaW4odGltZSpzdC55KSpjb3ModGltZSpzdC54KSUyMiklMEElMDkuZGlmZihzcmMobzEpJTBBJTA5JTA5LnRocmVzaCgpJTBBJTA5JTA5LmNvbG9yYW1hKCUyMnNpbih0aW1lKSUyQmNvcyh0aW1lKSUyMiklMEElMDklMDkuc2hpZnQoZ2xzbEF4aXMoJTIyeC15JTIyKSUyQyUyMGdsc2xBeGlzKCUyMnkteCUyMikpKSUwQSUwOS5icmlnaHRuZXNzKDElMjAlMkYlMjA0KSUwQSUwOS5ibGVuZChvMCUyQyUyMDElMjAlMkYlMjA0KSUwQSUwOS5vdXQoKSUzQiUwQXNjdWxwdFRvSHlkcmFSZW5kZXJlcigoKSUyMCUzRCUzRSUyMCU3QiUwQSUwOSUwOWdyaWQoMiUyQyUyMDElMjAlMkYlMjA1JTJDJTIwMSUyMCUyRiUyMDI1KSUzQiUwQSUwOSUwOW1peEdlbyhhYnMoc2luKHRpbWUpKSklM0IlMEElMDklMDlib3goMSUyMCUyRiUyMDUlMkMlMjAxJTIwJTJGJTIwNSUyQyUyMDElMjAlMkYlMjAyNSklM0IlMEElMDklN0QpJTBBJTA5Lm91dChvMSklM0I%3D
await loadScript("https://nodegl.glitch.me/function-list.js");
await loadScript("https://cdn.statically.io/gl/metagrowing/extra-shaders-for-hydra/main/lib/lib-cond.js");
await import("https://emptyfla.sh/bl4st/bundle-global.js");
const {
	sculptToHydraRenderer
} = await import("https://livecode.emptyfla.sh/hydra/all.js");
setResolution(3840, 2160);
fps = 24;
speed = 1 / 10;
flameEngine.setConfig(
	flame()
	.colorful(3 / 10)
	.exposure(2)
	.addTransform(
		transform()
		.spherical()
		.x([1, 0])
		.polar()
		.y([0, 1])
		.fisheye()
		.o([1 / 10, 1 / 10])
	)
	.addTransform(
		transform()
		.linear()
		.polar()
		.hyperbolic()
		.x(({
			time
		}) => [0, Math.sin(time)])
		.y(({
			time
		}) => [Math.cos(time), 0])
		.o([0, 0])
	)
);
flameEngine.start();
s0.init({
	src: flameEngine.canvas
});
src(s0)
	.hue("sin(time*st.y)*cos(time*st.x)")
	.diff(src(o1)
		.thresh()
		.colorama("sin(time)+cos(time)")
		.shift(glslAxis("x-y"), glslAxis("y-x")))
	.brightness(1 / 4)
	.blend(o0, 1 / 4)
	.out();
sculptToHydraRenderer(() => {
		grid(2, 1 / 5, 1 / 25);
		mixGeo(abs(sin(time)));
		box(1 / 5, 1 / 5, 1 / 25);
	})
	.out(o1);
